<html>

<head>
  <meta charset='utf-8' />
  <title>Upward Mobility in Delhi</title>
  <meta name='viewport'
	content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script
      src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.js'></script>
  <link
      href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.css'
      rel='stylesheet' />
</head>

<body>

  <div id='header'>
    <h1 style="font-family:courier; margin-bottom:0.2em;">Delhi
    Mobility Map</h1>
  </div>
  <div id='map' style='width:100%; height: 700px;'></div>
  <script>
    mapboxgl.accessToken =
    'pk.eyJ1IjoibmFzaGVyc2FkIiwiYSI6ImNqbGlnOTNtZTAwdXYzcG43emJvdHNtZ2EifQ.wHoFUeNGBgNfRsNrPbPV6Q';
    var map = new mapboxgl.Map({
    container: 'map',
    scrollZoom: false,
    style: 'mapbox://styles/nashersad/cjligcecp13ph2rqq5z1frtlv'
    });

    // Add zoom and rotation controls to the map.
    map.addControl(new mapboxgl.NavigationControl());
  </script>
  <div id='legend'>
    <svg width="800" height="25">
      <g>
	<rect x="0" y="0" width="80" height="25" style="fill:#b30000"
	      />
	<text x="20" y="15" font-family="Courier" font-size="12"
	      fill="white">< 25</text>
      </g>
      <g>
	<rect x="80" y="0" width="80" height="25" style="fill:#e34a33"
	      />
	<text x="95" y="15" font-family="courier" font-size="12"
	      fill="white">25 - 30</text>
      </g>
      <g>
	<rect x="160" y="0" width="80" height="25"
	      style="fill:#fc8d59" />
	<text x="175" y="15" font-family="courier" font-size="12"
	      fill="white">30 - 35</text>
      </g>
      <g>
	<rect x="240" y="0" width="80" height="25"
	      style="fill:#fdcc8a" />
	<text x="255" y="15" font-family="courier" font-size="12"
	      fill="white">35 - 40</text>
      </g>
      <g>
	<rect x="320" y="0" width="80" height="25"
	      style="fill:#bae4bc" />
	<text x="335" y="15" font-family="courier" font-size="12"
	      fill="white">40 - 45</text>
      </g>
      <g>
	<rect x="400" y="0" width="80" height="25"
	      style="fill:#1a9850" />
	<text x="415" y="15" font-family="courier" font-size="12"
	      fill="white">45 - 50</text>
      </g>
    </svg>
    <p style="margin-top:0; font-size:10">The legend describes upward
    mobility, defined as the expected national education rank of a son born
    to a father in the bottom half of the parent education distribution (mu-0-50).</p>
  </div>
  <div id='footer'
       style='width:800px;margin-left:40px;margin-top:30px'>
    <h2 style="font-family:courier;">More Information:</h1>

    <p>This map presents the geographical distribution of upward
    mobility across neighborhoods in Delhi. The measure of upward
    mobility describes the expected national education rank of a son born to a
    father in the bottom half of the parent education
    distribution. All ranks are relative to the national education
    distribution. (At this time, there is no data available to run this
    analysis with income ranks, so we use education, which is a close
    proxy for income and consumption.)

    A value of 25 means that a child born into the bottom half of the
    parent rank distribution will make no relative upward progress in
    his lifetime---their parents were on average at the 25th
    percentile of the rank distribution, and they can expect the same
    outcome for themselves. A value of 50 implies total equality of
    opportunity: children's outcomes are not dependent on the social
    rank of their parents.</p>

    <p>For comparison, using similar data, we estimate upward mobility
    to be about 47 in Denmark, and 40 in the United States.</p>

    <p> This map is based on research described in the paper <a
    href='http://paulnovosad.com/pdf/anr-india-mobility.pdf'>Intergenerational
    Mobility in India: Estimates from New Methods and
    Administrative Data</a>, by Sam Asher, Paul Novosad, and Charlie
    Rafkin. The paper describes how the measure is calculated, and
    presents additional results on the distribution of upward mobility
    in India across space and over time.</p>

  </div>

</body>

</html>
